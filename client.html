<html>
<head>
		<div id="div1">
	
	</div>
	<script  type="text/javascript">
		function httpGet(theUrl) {
			let xmlHttpReq = new XMLHttpRequest();
			xmlHttpReq.open("GET", theUrl, false);
			xmlHttpReq.send(null);
			return xmlHttpReq.responseText;
      }
		
		function getPing(req,target,field) {
		 
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange = function() {
			  if (this.readyState == 4 && this.status == 200) {	
				document.getElementById(field).innerHTML = this.responseText;
			  }
			};
			xmlhttp.open("GET","server.php?req=" + req+"&target="+target, true);
			xmlhttp.send();
		}
	
		function buildArea(){
			var users = httpGet("server.php?req=all&target=");
			console.log(users.length);
			console.log(users);
			
			for (let i = 0; i < users.length; i++) {
				const para = document.createElement("textarea");
				const node = document.createTextNode("This is new.");
				para.appendChild(node);
				const element = document.getElementById("div1");
				const child = document.getElementById("p1");
				element.insertBefore(para, child);
			}
		}
		
		
		
		buildArea();
		//setInterval(function() { getPing("specific","Buenz","message"); }, 1000);
		//setInterval(function() { getPing("specific","Jhunta","message2"); }, 1000);
	</script>
</head>
<body>

	
	<p>Suggestions: <span id="txtHint"></span></p>
	<textarea id="message" rows="5" cols="30"></textarea>
	<textarea id="message2" rows="5" cols="30"></textarea>
	


</body>
</html>